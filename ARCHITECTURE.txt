
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    DMX FIRE CONTROLLER ARCHITECTURE                           â•‘
â•‘                          1,700 Candles System                                 â•‘
â•‘                        Dual WLED with Multicast sACN                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           HARDWARE DATA FLOW                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  DMX Console â”‚   DMX   â”‚  ENTTEC DMX USB  â”‚ Serial  â”‚    Computer     â”‚
  â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚      Pro         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Fire Controller â”‚
  â”‚ (Lighting    â”‚  XLR    â”‚ (Serial Adapter) â”‚  /dev/  â”‚    (Python)     â”‚
  â”‚  Desk)       â”‚         â”‚                  â”‚  cu.*   â”‚                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                  â”‚
       DMX Universe 1                                            â”‚ sACN
       Channels 1-19:                                            â”‚ Multicast
       â€¢ Ch 1: Flicker Speed         (0-255)                     â”‚ (UDP)
       â€¢ Ch 2: Color Shift Yâ†â†’R      (0-255)                     â”‚
       â€¢ Ch 3: Wind Gust Effect      (0-255)                     â–¼
       â€¢ Ch 6: Master Intensity      (0-255)          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â€¢ Ch 7-19: Banks 1-13         (0-255)          â”‚   Multicast sACN â”‚
                                                      â”‚   239.255.0.1    â”‚
                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                                        â”‚          â”‚
                       â–¼                                        â–¼          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   WLED ONE      â”‚                     â”‚   WLED TWO      â”‚
              â”‚ Universes 1-6   â”‚                     â”‚ Universes 7-11  â”‚
              â”‚  875 RGB LEDs   â”‚                     â”‚  825 RGB LEDs   â”‚
              â”‚ (WS2812B strip) â”‚                     â”‚ (WS2812B strip) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                Banks 1-7                               Banks 8-13

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SOFTWARE ARCHITECTURE                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                      DMXFireController (Main Loop)                       â”‚
  â”‚                           Target: 60 FPS                                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                            â”‚                          â”‚
           â–¼                            â–¼                          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ DMX Input Layer â”‚         â”‚  Fire Effects    â”‚      â”‚  sACN Output     â”‚
  â”‚                 â”‚         â”‚  Rendering       â”‚      â”‚  Layer           â”‚
  â”‚ â€¢ Poll serial   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
  â”‚ â€¢ Drain buffer  â”‚  Values â”‚ â€¢ 13 Flame Banks â”‚ RGB  â”‚ â€¢ 11 Universes   â”‚
  â”‚ â€¢ Hysteresis    â”‚         â”‚ â€¢ Color control  â”‚ Data â”‚ â€¢ Multicast sACN â”‚
  â”‚ â€¢ Smooth ramp   â”‚         â”‚ â€¢ Wind effect    â”‚      â”‚ â€¢ 512 ch each    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â€¢ Master ctrl    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LED BANK ORGANIZATION                               â”‚
â”‚                         (1,700 Total Pixels)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WLED ONE (875 pixels, Universes 1-6):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ BANK 1: 125 pixels (DMX Ch 7)  â”‚ Pixels:   0 -  124 â”‚ WLED ONE         â”‚
  â”‚ BANK 2: 125 pixels (DMX Ch 8)  â”‚ Pixels: 125 -  249 â”‚ WLED ONE         â”‚
  â”‚ BANK 3: 125 pixels (DMX Ch 9)  â”‚ Pixels: 250 -  374 â”‚ WLED ONE         â”‚
  â”‚ BANK 4: 125 pixels (DMX Ch 10) â”‚ Pixels: 375 -  499 â”‚ WLED ONE         â”‚
  â”‚ BANK 5: 125 pixels (DMX Ch 11) â”‚ Pixels: 500 -  624 â”‚ WLED ONE         â”‚
  â”‚ BANK 6: 125 pixels (DMX Ch 12) â”‚ Pixels: 625 -  749 â”‚ WLED ONE         â”‚
  â”‚ BANK 7: 125 pixels (DMX Ch 13) â”‚ Pixels: 750 -  874 â”‚ WLED ONE         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GAP (145 pixels unused for universe alignment):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Pixels: 875 - 1019 (145 pixels, no data sent to any WLED)              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WLED TWO (825 pixels, Universes 7-11):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ BANK  8: 125 pixels (DMX Ch 14) â”‚ Pixels: 1020 - 1144 â”‚ WLED TWO       â”‚
  â”‚ BANK  9: 125 pixels (DMX Ch 15) â”‚ Pixels: 1145 - 1269 â”‚ WLED TWO       â”‚
  â”‚ BANK 10: 125 pixels (DMX Ch 16) â”‚ Pixels: 1270 - 1394 â”‚ WLED TWO       â”‚
  â”‚ BANK 11: 150 pixels (DMX Ch 17) â”‚ Pixels: 1395 - 1544 â”‚ WLED TWO       â”‚
  â”‚ BANK 12: 150 pixels (DMX Ch 18) â”‚ Pixels: 1545 - 1694 â”‚ WLED TWO       â”‚
  â”‚ BANK 13: 150 pixels (DMX Ch 19) â”‚ Pixels: 1695 - 1844 â”‚ WLED TWO       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         sACN UNIVERSE MAPPING                               â”‚
â”‚                    (170 LEDs per Universe @ 3ch RGB)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Universe  1: Pixels    0 -  169  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
  Universe  2: Pixels  170 -  339  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
  Universe  3: Pixels  340 -  509  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
  Universe  4: Pixels  510 -  679  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
  Universe  5: Pixels  680 -  849  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
  Universe  6: Pixels  850 - 1019  (510 channels: R,G,B Ã— 170) â†’ WLED ONE
                                   (partial: only 0-874 used, 875-1019 gap)
  Universe  7: Pixels 1020 - 1189  (510 channels: R,G,B Ã— 170) â†’ WLED TWO
  Universe  8: Pixels 1190 - 1359  (510 channels: R,G,B Ã— 170) â†’ WLED TWO
  Universe  9: Pixels 1360 - 1529  (510 channels: R,G,B Ã— 170) â†’ WLED TWO
  Universe 10: Pixels 1530 - 1699  (510 channels: R,G,B Ã— 170) â†’ WLED TWO
  Universe 11: Pixels 1700 - 1844  (435 channels: R,G,B Ã— 145) â†’ WLED TWO
                                   (partial universe)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DMX CHANNEL CONTROL SYSTEM                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Global Controls (affect all banks):

  ğŸ›ï¸ Channel 1: Flicker Speed (0-255)
     â”œâ”€ 0:   Slow, gentle transitions (2x slower)
     â”œâ”€ 127: Normal transition speed
     â””â”€ 255: Fast, dramatic flickering (2x faster)

     Effect: Controls how quickly flames change color and brightness
            Lower = smooth, meditative flame
            Higher = energetic, dancing flame

  ğŸ¨ Channel 2: Yellow â† â†’ Red Shift (0-255)
     â”œâ”€ 0:   Maximum yellow (green at ~187)
     â”œâ”€ 127: Base orange-red (green at ~127)
     â””â”€ 255: Deep red (green at ~67)

     Effect: Shifts green component from base RGB(255, 127, 15)
            Yellow = hotter appearance
            Red = cooler ember appearance
            Base Color: RGB(255, 127, 15) - warm orange-red

  ğŸŒªï¸ Channel 3: Sporadic Flicker / Wind Gust (0-255)
     â”œâ”€ 0:   No wind gusts (calm)
     â”œâ”€ 127: ~1 gust per second per candle (moderate)
     â””â”€ 255: ~3 gusts per second per candle (very windy)

     Effect: Random brief intensity drops (50-400ms)
            Simulates wind affecting candle flames
            Intensity drops: 20-90% reduction

  ğŸ”† Channel 6: Master Intensity (0-255)
     â”œâ”€ 0:   Blackout (all banks off)
     â”œâ”€ 127: Half brightness
     â””â”€ 255: Full brightness

     Effect: Multiplies all bank intensities
            Final Intensity = Bank Intensity Ã— Master Intensity
            Allows quick fade of all banks together

  Bank Controls (individual zone control):

  ğŸ“ Channels 7-19: Individual Bank Intensities
     â€¢ Channel  7: Bank  1 (125 LEDs) â†’ WLED ONE
     â€¢ Channel  8: Bank  2 (125 LEDs) â†’ WLED ONE
     â€¢ Channel  9: Bank  3 (125 LEDs) â†’ WLED ONE
     â€¢ Channel 10: Bank  4 (125 LEDs) â†’ WLED ONE
     â€¢ Channel 11: Bank  5 (125 LEDs) â†’ WLED ONE
     â€¢ Channel 12: Bank  6 (125 LEDs) â†’ WLED ONE
     â€¢ Channel 13: Bank  7 (125 LEDs) â†’ WLED ONE
     â€¢ Channel 14: Bank  8 (125 LEDs) â†’ WLED TWO
     â€¢ Channel 15: Bank  9 (125 LEDs) â†’ WLED TWO
     â€¢ Channel 16: Bank 10 (125 LEDs) â†’ WLED TWO
     â€¢ Channel 17: Bank 11 (150 LEDs) â†’ WLED TWO
     â€¢ Channel 18: Bank 12 (150 LEDs) â†’ WLED TWO
     â€¢ Channel 19: Bank 13 (150 LEDs) â†’ WLED TWO

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FIRE EFFECT ALGORITHM                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Base Color: RGB(255, 127, 15) - Custom warm orange-red

  Per-Pixel Color Generation:
    1. Red: Always high (245-255)
    2. Green: Base 127 Â± random variation (Â±25 gaussian)
       â€¢ Apply color shift from Channel 2:
         - Shift = (Ch2/255 - 0.5) Ã— 2 â†’ range -1 to +1
         - Green adjustment = -Shift Ã— 60
         - Final range: ~67 (red) to ~187 (yellow)
    3. Blue: Base 15 Â± 5 (range 10-25)
    4. Apply intensity variation (60-100%)

  Special Effects (random):
    â€¢ White-hot flash: 1% chance, RGB(255, 255, 200), 100-250ms
    â€¢ Blue flame flash: 0.33% chance, RGB(100, 150, 255), 100-250ms

  Color Transitions:
    â€¢ Smooth interpolation between colors using smoothstep easing
    â€¢ Transition speeds: 50ms-2.5s based on Channel 1
    â€¢ Three transition types: quick (30%), medium (40%), slow (30%)

  Intensity Modulation:
    â€¢ Sine wave waxing/waning: 60-100% base intensity
    â€¢ Wind gust multiplier: 10-100% during gusts
    â€¢ Bank intensity: 0-100% from DMX channel
    â€¢ Master intensity: 0-100% from Channel 6
    â€¢ Final = Color Ã— Intensity Ã— Wind Ã— Bank Ã— Master

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PERFORMANCE CHARACTERISTICS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Rendering:
    â€¢ Frame Rate: 60 FPS target, 50-60 FPS sustained
    â€¢ Total Updates: 102,000 LED updates/second (1,700 Ã— 60)
    â€¢ CPU Usage: ~20% single core
    â€¢ Memory: ~50MB

  DMX Input:
    â€¢ Poll Rate: Every frame (60 Hz)
    â€¢ Packet Rate: 200-250 DMX packets/second typical
    â€¢ Buffer Drain: Up to 10 packets per frame
    â€¢ Hysteresis: Ignores changes < 2% (5 DMX values)
    â€¢ Smoothing: 30% interpolation per frame

  Network Output:
    â€¢ Protocol: sACN (E1.31) multicast
    â€¢ Universes: 11 (1-11)
    â€¢ Multicast Group: 239.255.0.x
    â€¢ Packet Size: 512 channels per universe
    â€¢ Output Rate: 60 packets/second per universe (660 total)

  Latency:
    â€¢ DMX to LED: 3-10ms typical, up to 80ms acceptable
    â€¢ Sources: DMX polling (1ms), rendering (<5ms), network (<5ms)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CONFIGURATION EXAMPLES                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Classic Warm Candles:
    â€¢ Ch 1 (Speed): 127 (medium)
    â€¢ Ch 2 (Color): 127 (base orange-red)
    â€¢ Ch 3 (Wind):  30  (gentle occasional gusts)
    â€¢ Ch 6 (Master): 255 (full)
    â€¢ Ch 7-19 (Banks): 255 (all full)

  Intense Yellow Flames:
    â€¢ Ch 1 (Speed): 200 (fast flicker)
    â€¢ Ch 2 (Color): 50  (yellower)
    â€¢ Ch 3 (Wind):  100 (moderate wind)
    â€¢ Ch 6 (Master): 255 (full)

  Deep Red Embers:
    â€¢ Ch 1 (Speed): 80  (slow)
    â€¢ Ch 2 (Color): 200 (deep red)
    â€¢ Ch 3 (Wind):  0   (calm)
    â€¢ Ch 6 (Master): 180 (dimmed)

  Stormy Dramatic:
    â€¢ Ch 1 (Speed): 255 (very fast)
    â€¢ Ch 2 (Color): 127 (base)
    â€¢ Ch 3 (Wind):  255 (constant gusts)
    â€¢ Ch 6 (Master): 255 (full)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TECHNICAL CONSTRAINTS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Universe Boundaries:
    â€¢ 170 LEDs per universe (512 channels Ã· 3 RGB channels)
    â€¢ Universe 7 MUST start at pixel 1020
    â€¢ 145-pixel gap (875-1019) required for alignment
    â€¢ Cannot split WLED boxes mid-universe

  WLED Configuration:
    â€¢ WLED ONE: MUST end before universe 7
    â€¢ WLED TWO: MUST start at universe 7 or later
    â€¢ Multicast mode required for dual-WLED setup
    â€¢ Both boxes must be on same network/subnet

  Serial Port (macOS):
    â€¢ CRITICAL: Use /dev/cu.* NOT /dev/tty.*
    â€¢ Using /dev/tty.* will cause program to hang
    â€¢ ENTTEC requires 115200 baud, 8N1

  Frame Timing:
    â€¢ Target: 16.67ms per frame (60 FPS)
    â€¢ DMX poll: <1ms
    â€¢ Rendering: 5-10ms
    â€¢ Network: <2ms
    â€¢ Sleep: remainder to maintain 60 FPS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
